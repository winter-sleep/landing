<div class="content">
    <div class="top text-center">
        <h2 class="no-select text-bold">Fragment 用户通行证申请</h2>
    </div>

    <div class="step-bar">

        <div class="midbar full-height flex-row center-block no-select">
            <div class="step pointer flex-auto step1" (click)="stepOneHandle()">
                <span class="step-radio circular pull-left" [class.light]="currentStep === 1">1</span>
                <p class="pull-left">填写电子邮件地址</p>
            </div>
            <div class="step pointer flex-auto step2" (click)="stepTwoHandle()">
                <span class="step-radio circular pull-left" [class.light]="currentStep === 2">2</span>
                <p class="pull-left">设置通行证密码</p>
            </div>
            <div class="step pointer flex-auto step3" (click)="stepThreeHandle()">
                <span class="step-radio circular pull-left" [class.light]="currentStep === 3">3</span>
                <p class="pull-left">完善基本信息</p>
            </div>
        </div>

    </div>

    <form class="form-content center-block" (ngSubmit)="submitHandle()">
        <!-- start of step1 -->
        <div class="form" [class.hide]="currentStep !== 1" [class.show]="currentStep === 1">
            <div class="form-group">
                <div class="field-body">
                    <label for="signup-email" class="pointer">电子邮件</label>
                    <input type="text"
                        id="signup-email"
                        name="email"
                        [(ngModel)]="formData.email"
                        placeholder="电子邮件地址"
                        class="text-input"
                        (blur)="isEmailValide()"
                        [class.error]="!fieldState.email"
                    />
                </div>
                <p class="message-box">{{messageBox.email}}</p>
            </div>

            <div class="form-group">
                <div class="field-body">
                    <label for="signup-nickname" class="pointer">你的名字</label>
                    <input type="text"
                        id="signup-nickname"
                        name="nickname"
                        [(ngModel)]="formData.nickname"
                        (blur)="isNicknameValide()"
                        placeholder="怎么称呼您"
                        class="text-input"
                        maxlength="32"
                        [class.error]="!fieldState.nickname"
                    />
                </div>
                <p class="message-box">{{messageBox.nickname}}</p>
            </div>

            <div class="form-group">
                <div class="field-body">
                    <label class="hold"></label>
                    <a  class="button"
                        (click)="stepTwoHandle();"
                        href="javascript:void(0);"
                    >
                        下一步
                    </a>
                </div>
            </div>
        </div>
        <!-- end of step1 -->

        <!-- start of step2 -->
        <div class="form hide" [class.show]="currentStep === 2">
            <div class="form-group">
                <div class="field-body">
                    <label for="signup-password" class="pointer">设置密码</label>
                    <input type="password"
                        id="signup-password"
                        name="password"
                        [(ngModel)]="formData.password"
                        (blur)="isPasswordValide()"
                        placeholder="设置登录密码"
                        class="text-input"
                        [class.error]="!fieldState.password"
                    />
                </div>
                <p class="message-box">{{messageBox.password}}</p>
            </div>

            <div class="form-group">
                <div class="field-body">
                    <label for="signup-repassword" class="pointer">确认密码</label>
                    <input type="password"
                        id="signup-repassword"
                        name="repassword"
                        [(ngModel)]="formData.repassword"
                        (blur)="isrePasswordValide()"
                        placeholder="再次输入登录密码"
                        class="text-input"
                        [class.error]="!fieldState.repassword"
                    />
                </div>
                <p class="message-box">{{messageBox.repassword}}</p>
            </div>

            <div class="form-group">
                <div class="field-body">
                    <label class="hold"></label>
                    <a class="button" (click)="stepThreeHandle();" href="javascript:void(0);">下一步</a>
                </div>
            </div>
        </div>
        <!-- end of step2 -->

        <!-- start of step3 -->
        <div class="form hide" [class.show]="currentStep === 3">

            <div class="form-group">
                <div class="field-body">
                    <label for="signup-gender" class="pointer">您的性别</label>
                    <div class="radio-inputs" id="signup-gender">
                        <span class="radio-group">
                            <input
                                type="radio"
                                name="gender"
                                checked
                                id="signup-gender-0"
                                value="0"
                                [(ngModel)]="formData.gender"
                            />
                            <p>女生</p>
                        </span>
                        <span class="radio-group">
                            <input
                                type="radio"
                                name="gender"
                                id="signup-gender-1"
                                value="1"
                                [(ngModel)]="formData.gender"
                            />
                            <p>男生</p>
                        </span>
                        <span class="radio-group">
                            <input
                                type="radio"
                                name="gender"
                                id="signup-gender-2"
                                value="2"
                                [(ngModel)]="formData.gender"
                            />
                            <p>保密</p>
                        </span>
                    </div>
                </div>
                <p class="message-box">{{messageBox.gender}}</p>
            </div>

            <div class="form-group">
                <div class="field-body">
                    <label for="signup-identify" class="pointer">验证码</label>
                    <input type="text"
                        id="signup-identify"
                        name="identify"
                        [(ngModel)]="formData.identify"
                        placeholder="验证码"
                        (blur)="isIdentifyValide()"
                        class="text-input"
                        [class.error]="!fieldState.identify"
                    />
                    <div class="identify-image">
                        <img (click)="changeCaptcha()" [src]="captchaImage" class="pointer" title="点击刷新验证码">
                    </div>
                </div>
                <p class="message-box">{{messageBox.identify}}</p>
            </div>

            <div class="form-group">
                <div class="field-body">
                    <label class="hold"></label>
                    <input type="submit" class="button pointer" value="填好了">
                </div>
            </div>
        </div>
        <!-- end of step3 -->
    </form>
</div>
